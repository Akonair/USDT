
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>QR Code</title>
  <style>
    body { font-family: Arial; text-align: center; padding-top: 40px; }
    .qr-box { border: 2px dashed #0066cc; padding: 10px; display: inline-block; border-radius: 12px; }
    #timer { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>
  <h2>Please Scan to Pay</h2>
  <div class="qr-box">
    <img id="qrImg" src="" width="200" height="200" />
  </div>
  <div id="timer"></div>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const qr = urlParams.get('qr');
    const expires = parseInt(urlParams.get('expires')) || 420;
    document.getElementById("qrImg").src = qr;
    let timeLeft = expires;
    const timer = document.getElementById("timer");
    const countdown = setInterval(() => {
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      timer.innerText = `⏳ Time Left: ${min}m ${sec}s`;
      if (timeLeft-- <= 0) {
        clearInterval(countdown);
        timer.innerText = "⛔ Expired";
      }
    }, 1000);
  </script>
</body>
</html>
